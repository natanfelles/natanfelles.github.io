/*!
 * @author Natan Felles <natanfelles@gmail.com>
 */
function msg(e,t,a){return $.post("//formspree.io/natanfelles@gmail.com",{name:e,email:t,message:a}).done(function(){console.log(">> Message successful sent. I will try to reply for you.")}).fail(function(){console.log(">> Message could not be sent now. Try again.")}),88}function hero(){$("#hero").parent().css({padding:0}),$("#hero").css({width:$(".panel-hero").innerWidth(),minHeight:window.innerHeight,paddingTop:.4*(window.innerHeight-$("#hero").innerHeight())}).show()}function setupHero(){"/"!=window.location.pathname?($(".panel-hero").css({width:$(".panel-hero").parent().innerWidth(),left:$(".panel-hero").parent().position().left+"px"}),$(".content").css({minHeight:window.innerHeight}),window.innerWidth<1200?($("#hero").parent().hide(),$(".content").removeClass("col-md-7").addClass("col-md-12"),$("header").show(),$("body").css({paddingTop:30})):($("#hero").parent().show(),$(".content").removeClass("col-md-12").addClass("col-md-7"),$("header").hide(),$("body").css({paddingTop:0}),hero())):($(".panel-hero").css({width:window.innerWidth}),hero())}function headerLinks(){$("#post :header").each(function(){$(this).append('<a class="header-link" href="#'+this.id+'"><i class="fa fa-link"></i></a>')})}function search(e,t){var a=encodeURIComponent(e),i=1;t>1&&(i=10*t-10+1);var n=$('meta[name="google-cse-cx"]').attr("content"),o=$('meta[name="google-api-key"]').attr("content"),r="https://www.googleapis.com/customsearch/v1?q="+a+"&start="+i+"&cx="+n+"&key="+o+"&num=10&alt=json";$.getJSON(r,function(e,i){if("success"==i){var n=[];$(e.items).each(function(e,t){n[e]={url:t.link,title:t.title,description:t.snippet}});var o="";$.each(n,function(e,t){o+='<a href="'+t.url+'" class="list-group-item"><h4 class="list-group-item-heading">'+t.title+'</h4><p class="list-group-item-text">'+t.description+"</p></a>"}),$(".sr-results").html(o);var r={count_results:e.searchInformation.totalResults,runtime:e.searchInformation.formattedSearchTime};$(".sr-benchmark").html(r.count_results+" resultados em "+r.runtime+" segundos");var s={total:Math.ceil(r.count_results/10),current:t};pagination(s.current,s.total,a)}}).fail(function(e,t){$(".sr-results").html('<div class="alert alert-danger"><i class="fa fa-exclamation-circle"></i> Pesquisa não pode ser realizada no momento. Tente novamente mais tarde.</div>')})}function pagination(e,t,a){var i=$(".sr-pages .pagination"),n=8;if($(window).width()<800&&(n=2),t<2||e>t)return i.html(""),!1;var o="",r=e-n>0?e-(n-1):1,s=e+n<t?e+n:t;t>1&&e>1&&(o+='<li><a data-page="'+(e-1)+'">&laquo;</a></li>');for(var l=r-1;l<=s;l++)l>=1&&(o+=e==l?'<li class="active"><span>'+e+"</span></li>":'<li><a data-page="'+l+'">'+l+"</a></li>");e<t&&(o+='<li><a data-page="'+(e+1)+'">&raquo;</a></li>'),i.html(o),i.children().children().click(function(){return search(a,$(this).attr("data-page")),!1})}function setProducts(e){var t=localStorage.getItem("products-sortBy"+e);t=JSON.parse(t);for(var a="",i=0;i<t.length;i++)a+='<div class="col-md-6"><div class="thumbnail"><span class="price"><sup>$</sup>'+t[i].price+'</span><img src="'+t[i].image+'" alt="'+t[i].name+'"><div class="caption text-center"><h3>'+t[i].name+"</h3><p>"+t[i].description+'</p><div class="btn-group btn-group-justified"><a href="#" class="btn btn-success to-cart" data-id="'+t[i].id+'" data-price="'+t[i].price+'" data-name="'+t[i].name+'">Adicionar</a><a href="'+t[i].link+'" class="btn btn-default">Saber Mais</a></div></div></div></div>';console.log(a),$("#products").html(a),cartAction()}function cartAction(){$(".to-cart").click(function(){return console.log($(this).data()),addToCart($(this).data()),$(".cart").css({background:"#47bf15"}).animate({width:"240px",height:"240px",borderWidth:"8px",fontSize:"80px",padding:"60px"},500).animate({width:"60px",height:"60px",borderWidth:"2px",fontSize:"20px",padding:"15px"},750),!1})}function addToCart(e){console.log(e);var t=JSON.parse(localStorage.getItem("cart"));t||(t={}),t[e.id]?t[e.id].quantity+=1:(t[e.id]=e,t[e.id].quantity=1),console.log(t),localStorage.setItem("cart",JSON.stringify(t)),htmlCart(t)}function htmlCart(e){var t=0,a=!0;$("#cart-items").html(""),$("#form-paypal .items").html(""),$("#form-pagseguro .items").html(""),$.each(e,function(e,i){console.log(e),console.log(i),$("#cart-items").append("<tr><td>"+i.name+"</td><td>U$ "+i.price+"</td><td>"+i.quantity+'</td><td><button class="btn btn-sm btn-danger remove-item" onclick="removeCartItem(\''+i.id+'\')"><i class="fa fa-times"></i> Remover</button></td></tr>'),t+=i.price*i.quantity,a=!1,$("#form-paypal .items").append('<input type="hidden" name="item_name_'+i.id+'" value="'+i.name+'"><input type="hidden" name="amount_'+i.id+'" value="'+i.price+'"><input type="hidden" name="quantity_'+i.id+'" value="'+i.quantity+'">'),$("#form-pagseguro .items").append('<input type="hidden" name="itemId'+i.id+'" value="'+i.id+'"><input type="hidden" name="itemDescription'+i.id+'" value="'+i.name+'"><input type="hidden" name="itemAmount'+i.id+'" value="'+parseFloat(Math.round(3.5*i.price*100)/100).toFixed(2)+'"><input type="hidden" name="itemQuantity'+i.id+'" value="'+i.quantity+'">')}),a?($("#cart-items").append('<tr><td colspan="4">Hey! Seu carrinho está vazio.</td></tr>'),$(".cart").css({background:"#000"}),$("#cart .modal-footer").hide()):($(".cart").css({background:"#47bf15"}),$("#cart .modal-footer").show()),$("#cart-total").html("U$ "+t)}function removeCartItem(e){var t=JSON.parse(localStorage.getItem("cart"));return $.each(t,function(a,i){console.log(a),console.log(i),i.id==e&&(i.quantity--,i.quantity<1&&delete t[a])}),localStorage.setItem("cart",JSON.stringify(t)),htmlCart(t),!1}var hello=" _   _       _                _____    _ _           \n| \\ | | __ _| |_ __ _ _ __   |  ___|__| | | ___  ___ \n|  \\| |/ _` | __/ _` | '_ \\  | |_ / _ \\ | |/ _ \\/ __|\n| |\\  | (_| | || (_| | | | | |  _|  __/ | |  __/\\__ \\\n|_| \\_|\\__,_|\\__\\__,_|_| |_| |_|  \\___|_|_|\\___||___/\n\nnatanfelles.github.io\n\n";console.log(hello),console.log('>> Hello, hacker!!! Use msg("Your name", "Your email", "Your message") and lets talk about a best world.'),$("#service_type").html($("#service_type-content").html()),$('select[id="service"]').change(function(){var e=$(this).children(":selected").data("service"),t=$("#service-all").html(),a=$("#service-"+e).html();if(t||a){var i=(t||"")+(a||"");$("#service-options").html(i),$("#service-confirm").show(),$('[data-toggle="popover"]').popover({container:"body",placement:"top",trigger:"focus"})}else $("#service-confirm").hide();$("#service-form").children(".alert").hide()}),$("#service-form").length&&$("#service-form").submit(function(){$(this).validator("update"),$('[name="_replyto"]').val($('[name="E-mail"]').val()),$('[name="_subject"]').val("Solicitação de Serviço · "+$('[name="Tipo de Serviço"]').val())}).validator().on("submit",function(e){var t=$(this).children(".alert");return e.isDefaultPrevented()?t.addClass("alert-danger").html('<i class="fa fa-exclamation-circle"></i> Corrija os erros do formulário.').show():$.ajax({url:$(this).attr("action"),method:"POST",data:$(this).serialize(),dataType:"json"}).done(function(e){t.addClass("alert-success").html('<strong><i class="fa fa-check-circle"></i> Solicitação enviada com sucesso!</strong><br> Logo você receberá uma resposta em seu e-mail.').show(),$("#service-form input, #service-form textarea").each(function(){$(this).val("")})}).fail(function(){t.addClass("alert-danger").html('<i class="fa fa-exclamation-circle"></i> Solicitação não pode ser enviada agora. Tente novamente mais tarde.').show()}),!1}),cartAction(),$(document).ready(function(){setupHero(),$(window).resize(function(){setupHero()}),$('[data-toggle="tooltip"]').tooltip(),$("pre code").each(function(e,t){$(this).attr("class")||$(this).attr("class","hljs language-txt")}),"object"==typeof hljs&&(hljs.initHighlightingOnLoad(),hljs.initLineNumbersOnLoad()),headerLinks(),$("a").attr("target",function(){if(this.host&&this.host!=location.host)return"_blank"}),$(".content-inner img").each(function(){$(this).parent().hasClass("thumbnail")||$(this).addClass("img-thumbnail img-responsive")}),$(".posts-list .list-group-item").each(function(){var e=$(this).children("p").children(".btn").attr("href");$(this).children("h2").children("a").attr("href",e),$(this).children(".thumbnail").attr("href",e)}),$("table").addClass("table table-bordered table-striped table-hover"),$("#toTop").click(function(e){$("body,html").animate({scrollTop:0},800),e.preventDefault()}),$("#search-hero, #search-nav").click(function(){$("#search-results").modal()}),$("#search-form").submit(function(){var e=$('#search-form [name="q"]');return $('#search-modal [name="q"]').val(e.val()),search(e.val(),1),e.val(""),!1}),$("#search-modal").submit(function(){return search($('#search-modal [name="q"]').val(),1),!1}),$('#search-modal [name="q"]').keyup(function(){var e=$(this).val();e.length>3&&e.length%2==0&&search(e,1)}),$("#shop").length&&($.getJSON("/loja/products.json",function(e){e.sort(function(e,t){return e.name>t.name}),localStorage.setItem("products-sortByName",JSON.stringify(e)),e.sort(function(e,t){return e.price<t.price}),localStorage.setItem("products-sortByLowPrice",JSON.stringify(e)),e.sort(function(e,t){return e.price>t.price}),localStorage.setItem("products-sortByHighPrice",JSON.stringify(e))}),htmlCart(JSON.parse(localStorage.getItem("cart"))));var e=window.location.hostname;"localhost"!=e&&"natanfelles.github.io"!=e?$.post("//formspree.io/natanfelles@gmail.com",{subject:"Takedown",hostname:e}):$(".loader").animate({opacity:"toggle"},500,function(){$(this).hide()})});